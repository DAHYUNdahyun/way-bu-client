import { Link } from "react-router-dom";
import styled from "styled-components";

const Wrapper = styled.div`
  border: 1px solid var(--color-gray);
  border-radius: var(--br-mini);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  &:hover {
    background-color: rgb(241 245 249);
  }
  transition: all 0.2s ease-in-out;
  h3 {
    font-size: var(--font-size-l);
    font-weight: bold;
    text-overflow: ellipsis;
    white-space: nowrap;
    overflow: hidden;
    width: 100%;
  }
  a {
    padding-top: 20px;
    cursor: pointer;
    width: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
  }
`;

const Thumbnail = styled.div`
  align-self: center;
  width: 180px;
  height: 180px;
  background-position: center;
  background-size: cover;
  background-repeat: no-repeat;
  background-image: url(${(props) => props.$imageUrl});
  margin-bottom: 20px;
  @media only screen and (max-width: 376px) {
    width: 260px;
    height: 260px;
  }
`;

const Content = styled.div`
  display: flex;
  flex-direction: column;
  gap: 5px;
  width: calc(100% - 40px);
`;

const Button = styled.button`
  width: calc(100% - 40px);
  margin: 10px 0 20px 0;
  font-size: var(--font-size-m);
  color: white;
  height: 40px;
  background-color: var(--color-blue-main);
  &:hover {
    background-color: #1758b9;
  }
  transition: all 0.2s ease-in-out;
  border-radius: var(--br-3xs);
  border: none;
  cursor: pointer;
`;

export default function ProgramItem({ program, onBtnClicked }) {
  return (
    <Wrapper>
      <Link to={`/program/${program.id}`}>
        <Thumbnail $imageUrl={program.thumbnail} />
        <Content>
          <h3>{program.program_name}</h3>
          <div>
            <svg
              width="121"
              height="25"
              viewBox="0 0 121 25"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M92.7045 10.1818C92.7045 8.75 92.8902 7.43371 93.2614 6.23295C93.6364 5.02841 94.1705 3.92045 94.8636 2.90909H96.0455C95.7727 3.28409 95.517 3.74621 95.2784 4.29545C95.0436 4.84091 94.8371 5.44129 94.6591 6.09659C94.4811 6.74811 94.3409 7.42235 94.2386 8.11932C94.1402 8.81629 94.0909 9.50379 94.0909 10.1818C94.0909 11.0833 94.178 11.9981 94.3523 12.9261C94.5265 13.8542 94.7614 14.7159 95.0568 15.5114C95.3523 16.3068 95.6818 16.9545 96.0455 17.4545H94.8636C94.1705 16.4432 93.6364 15.3371 93.2614 14.1364C92.8902 12.9318 92.7045 11.6136 92.7045 10.1818ZM102.092 4.36364V16H100.683V5.84091H100.615L97.7741 7.72727V6.29545L100.683 4.36364H102.092ZM109.234 16.1591C108.378 16.1591 107.649 15.9261 107.047 15.4602C106.445 14.9905 105.984 14.3106 105.666 13.4205C105.348 12.5265 105.189 11.447 105.189 10.1818C105.189 8.92424 105.348 7.85038 105.666 6.96023C105.988 6.06629 106.45 5.38447 107.053 4.91477C107.659 4.44129 108.386 4.20455 109.234 4.20455C110.083 4.20455 110.808 4.44129 111.411 4.91477C112.017 5.38447 112.479 6.06629 112.797 6.96023C113.119 7.85038 113.28 8.92424 113.28 10.1818C113.28 11.447 113.121 12.5265 112.803 13.4205C112.484 14.3106 112.024 14.9905 111.422 15.4602C110.82 15.9261 110.09 16.1591 109.234 16.1591ZM109.234 14.9091C110.083 14.9091 110.742 14.5 111.212 13.6818C111.681 12.8636 111.916 11.697 111.916 10.1818C111.916 9.17424 111.808 8.31629 111.592 7.60795C111.38 6.89962 111.073 6.35985 110.672 5.98864C110.274 5.61742 109.795 5.43182 109.234 5.43182C108.393 5.43182 107.736 5.84659 107.263 6.67614C106.789 7.50189 106.553 8.67045 106.553 10.1818C106.553 11.1894 106.659 12.0455 106.871 12.75C107.083 13.4545 107.388 13.9905 107.786 14.358C108.187 14.7254 108.67 14.9091 109.234 14.9091ZM118.325 10.1818C118.325 11.6136 118.138 12.9318 117.763 14.1364C117.392 15.3371 116.859 16.4432 116.166 17.4545H114.984C115.257 17.0795 115.511 16.6174 115.746 16.0682C115.984 15.5227 116.193 14.9242 116.371 14.2727C116.549 13.6174 116.687 12.9413 116.786 12.2443C116.888 11.5436 116.939 10.8561 116.939 10.1818C116.939 9.2803 116.852 8.36553 116.678 7.4375C116.503 6.50947 116.268 5.64773 115.973 4.85227C115.678 4.05682 115.348 3.40909 114.984 2.90909H116.166C116.859 3.92045 117.392 5.02841 117.763 6.23295C118.138 7.43371 118.325 8.75 118.325 10.1818Z"
                fill="black"
              />
              <g filter="url(#filter0_d_1287_3288)">
                <path
                  d="M16.7777 7.78426L13.0295 11.1448L14.1747 16.1687C14.205 16.2978 14.1978 16.4334 14.154 16.5582C14.1102 16.6831 14.0318 16.7916 13.9286 16.8701C13.8255 16.9486 13.7023 16.9936 13.5746 16.9994C13.4469 17.0051 13.3204 16.9714 13.2111 16.9024L8.9996 14.2092L4.78807 16.9016C4.6788 16.9706 4.55232 17.0043 4.42461 16.9986C4.2969 16.9928 4.17369 16.9478 4.07057 16.8693C3.96744 16.7908 3.88902 16.6823 3.84522 16.5574C3.80141 16.4326 3.79419 16.297 3.82447 16.1679L4.96971 11.144L1.22151 7.78346C1.12594 7.69623 1.05704 7.58181 1.02332 7.45433C0.989587 7.32685 0.992508 7.1919 1.03172 7.06612C1.07093 6.94035 1.14471 6.82927 1.24395 6.74659C1.34319 6.66391 1.46355 6.61326 1.59017 6.60088L6.50901 6.18482L8.40389 1.41611C8.4522 1.29308 8.53466 1.1878 8.64076 1.11369C8.74685 1.03958 8.87178 1 8.9996 1C9.12743 1 9.25235 1.03958 9.35845 1.11369C9.46455 1.1878 9.54701 1.29308 9.59531 1.41611L11.4902 6.18482L16.409 6.60088C16.5358 6.61311 16.6564 6.66372 16.7558 6.74645C16.8552 6.82918 16.9291 6.94039 16.9683 7.06633C17.0076 7.19226 17.0104 7.32739 16.9765 7.455C16.9426 7.5826 16.8735 7.69708 16.7777 7.78426Z"
                  fill="#3592F0"
                />
              </g>
              <g filter="url(#filter1_d_1287_3288)">
                <path
                  d="M34.7777 7.78426L31.0295 11.1448L32.1747 16.1687C32.205 16.2978 32.1978 16.4334 32.154 16.5582C32.1102 16.6831 32.0318 16.7916 31.9286 16.8701C31.8255 16.9486 31.7023 16.9936 31.5746 16.9994C31.4469 17.0051 31.3204 16.9714 31.2111 16.9024L26.9996 14.2092L22.7881 16.9016C22.6788 16.9706 22.5523 17.0043 22.4246 16.9986C22.2969 16.9928 22.1737 16.9478 22.0706 16.8693C21.9674 16.7908 21.889 16.6823 21.8452 16.5574C21.8014 16.4326 21.7942 16.297 21.8245 16.1679L22.9697 11.144L19.2215 7.78346C19.1259 7.69623 19.057 7.58181 19.0233 7.45433C18.9896 7.32685 18.9925 7.1919 19.0317 7.06612C19.0709 6.94035 19.1447 6.82927 19.2439 6.74659C19.3432 6.66391 19.4636 6.61326 19.5902 6.60088L24.509 6.18482L26.4039 1.41611C26.4522 1.29308 26.5347 1.1878 26.6408 1.11369C26.7469 1.03958 26.8718 1 26.9996 1C27.1274 1 27.2524 1.03958 27.3584 1.11369C27.4645 1.1878 27.547 1.29308 27.5953 1.41611L29.4902 6.18482L34.409 6.60088C34.5358 6.61311 34.6564 6.66372 34.7558 6.74645C34.8552 6.82918 34.9291 6.94039 34.9683 7.06633C35.0076 7.19226 35.0104 7.32739 34.9765 7.455C34.9426 7.5826 34.8735 7.69708 34.7777 7.78426Z"
                  fill="#3592F0"
                />
              </g>
              <g filter="url(#filter2_d_1287_3288)">
                <path
                  d="M52.7777 7.78426L49.0295 11.1448L50.1747 16.1687C50.205 16.2978 50.1978 16.4334 50.154 16.5582C50.1102 16.6831 50.0318 16.7916 49.9286 16.8701C49.8255 16.9486 49.7023 16.9936 49.5746 16.9994C49.4469 17.0051 49.3204 16.9714 49.2111 16.9024L44.9996 14.2092L40.7881 16.9016C40.6788 16.9706 40.5523 17.0043 40.4246 16.9986C40.2969 16.9928 40.1737 16.9478 40.0706 16.8693C39.9674 16.7908 39.889 16.6823 39.8452 16.5574C39.8014 16.4326 39.7942 16.297 39.8245 16.1679L40.9697 11.144L37.2215 7.78346C37.1259 7.69623 37.057 7.58181 37.0233 7.45433C36.9896 7.32685 36.9925 7.1919 37.0317 7.06612C37.0709 6.94035 37.1447 6.82927 37.2439 6.74659C37.3432 6.66391 37.4636 6.61326 37.5902 6.60088L42.509 6.18482L44.4039 1.41611C44.4522 1.29308 44.5347 1.1878 44.6408 1.11369C44.7469 1.03958 44.8718 1 44.9996 1C45.1274 1 45.2524 1.03958 45.3584 1.11369C45.4645 1.1878 45.547 1.29308 45.5953 1.41611L47.4902 6.18482L52.409 6.60088C52.5358 6.61311 52.6564 6.66372 52.7558 6.74645C52.8552 6.82918 52.9291 6.94039 52.9683 7.06633C53.0076 7.19226 53.0104 7.32739 52.9765 7.455C52.9426 7.5826 52.8735 7.69708 52.7777 7.78426Z"
                  fill="#3592F0"
                />
              </g>
              <g filter="url(#filter3_d_1287_3288)">
                <path
                  d="M70.7777 7.78426L67.0295 11.1448L68.1747 16.1687C68.205 16.2978 68.1978 16.4334 68.154 16.5582C68.1102 16.6831 68.0318 16.7916 67.9286 16.8701C67.8255 16.9486 67.7023 16.9936 67.5746 16.9994C67.4469 17.0051 67.3204 16.9714 67.2111 16.9024L62.9996 14.2092L58.7881 16.9016C58.6788 16.9706 58.5523 17.0043 58.4246 16.9986C58.2969 16.9928 58.1737 16.9478 58.0706 16.8693C57.9674 16.7908 57.889 16.6823 57.8452 16.5574C57.8014 16.4326 57.7942 16.297 57.8245 16.1679L58.9697 11.144L55.2215 7.78346C55.1259 7.69623 55.057 7.58181 55.0233 7.45433C54.9896 7.32685 54.9925 7.1919 55.0317 7.06612C55.0709 6.94035 55.1447 6.82927 55.2439 6.74659C55.3432 6.66391 55.4636 6.61326 55.5902 6.60088L60.509 6.18482L62.4039 1.41611C62.4522 1.29308 62.5347 1.1878 62.6408 1.11369C62.7469 1.03958 62.8718 1 62.9996 1C63.1274 1 63.2524 1.03958 63.3584 1.11369C63.4645 1.1878 63.547 1.29308 63.5953 1.41611L65.4902 6.18482L70.409 6.60088C70.5358 6.61311 70.6564 6.66372 70.7558 6.74645C70.8552 6.82918 70.9291 6.94039 70.9683 7.06633C71.0076 7.19226 71.0104 7.32739 70.9765 7.455C70.9426 7.5826 70.8735 7.69708 70.7777 7.78426Z"
                  fill="#3592F0"
                />
              </g>
              <path
                d="M88.7777 7.78426L85.0295 11.1448L86.1747 16.1687C86.205 16.2978 86.1978 16.4334 86.154 16.5582C86.1102 16.6831 86.0318 16.7916 85.9286 16.8701C85.8255 16.9486 85.7023 16.9936 85.5746 16.9994C85.4469 17.0051 85.3204 16.9714 85.2111 16.9024L80.9996 14.2092L76.7881 16.9016C76.6788 16.9706 76.5523 17.0043 76.4246 16.9986C76.2969 16.9928 76.1737 16.9478 76.0706 16.8693C75.9674 16.7908 75.889 16.6823 75.8452 16.5574C75.8014 16.4326 75.7942 16.297 75.8245 16.1679L76.9697 11.144L73.2215 7.78346C73.1259 7.69623 73.057 7.58181 73.0233 7.45433C72.9896 7.32685 72.9925 7.1919 73.0317 7.06612C73.0709 6.94035 73.1447 6.82927 73.2439 6.74659C73.3432 6.66391 73.4636 6.61326 73.5902 6.60088L78.509 6.18482L80.4039 1.41611C80.4522 1.29308 80.5347 1.1878 80.6408 1.11369C80.7469 1.03958 80.8718 1 80.9996 1C81.1274 1 81.2524 1.03958 81.3584 1.11369C81.4645 1.1878 81.547 1.29308 81.5953 1.41611L83.4902 6.18482L88.409 6.60088C88.5358 6.61311 88.6564 6.66372 88.7558 6.74645C88.8552 6.82918 88.9291 6.94039 88.9683 7.06633C89.0076 7.19226 89.0104 7.32739 88.9765 7.455C88.9426 7.5826 88.8735 7.69708 88.7777 7.78426Z"
                fill="#B9B9B9"
              />
              <defs>
                <filter
                  id="filter0_d_1287_3288"
                  x="0"
                  y="0"
                  width="22"
                  height="22"
                  filterUnits="userSpaceOnUse"
                  colorInterpolationFilters="sRGB"
                >
                  <feFlood floodOpacity="0" result="BackgroundImageFix" />
                  <feColorMatrix
                    in="SourceAlpha"
                    type="matrix"
                    values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
                    result="hardAlpha"
                  />
                  <feOffset dx="2" dy="2" />
                  <feGaussianBlur stdDeviation="1.5" />
                  <feComposite in2="hardAlpha" operator="out" />
                  <feColorMatrix
                    type="matrix"
                    values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"
                  />
                  <feBlend
                    mode="normal"
                    in2="BackgroundImageFix"
                    result="effect1_dropShadow_1287_3288"
                  />
                  <feBlend
                    mode="normal"
                    in="SourceGraphic"
                    in2="effect1_dropShadow_1287_3288"
                    result="shape"
                  />
                </filter>
                <filter
                  id="filter1_d_1287_3288"
                  x="15"
                  y="1"
                  width="24"
                  height="24"
                  filterUnits="userSpaceOnUse"
                  colorInterpolationFilters="sRGB"
                >
                  <feFlood floodOpacity="0" result="BackgroundImageFix" />
                  <feColorMatrix
                    in="SourceAlpha"
                    type="matrix"
                    values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
                    result="hardAlpha"
                  />
                  <feOffset dy="4" />
                  <feGaussianBlur stdDeviation="2" />
                  <feComposite in2="hardAlpha" operator="out" />
                  <feColorMatrix
                    type="matrix"
                    values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"
                  />
                  <feBlend
                    mode="normal"
                    in2="BackgroundImageFix"
                    result="effect1_dropShadow_1287_3288"
                  />
                  <feBlend
                    mode="normal"
                    in="SourceGraphic"
                    in2="effect1_dropShadow_1287_3288"
                    result="shape"
                  />
                </filter>
                <filter
                  id="filter2_d_1287_3288"
                  x="33"
                  y="1"
                  width="24"
                  height="24"
                  filterUnits="userSpaceOnUse"
                  colorInterpolationFilters="sRGB"
                >
                  <feFlood floodOpacity="0" result="BackgroundImageFix" />
                  <feColorMatrix
                    in="SourceAlpha"
                    type="matrix"
                    values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
                    result="hardAlpha"
                  />
                  <feOffset dy="4" />
                  <feGaussianBlur stdDeviation="2" />
                  <feComposite in2="hardAlpha" operator="out" />
                  <feColorMatrix
                    type="matrix"
                    values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"
                  />
                  <feBlend
                    mode="normal"
                    in2="BackgroundImageFix"
                    result="effect1_dropShadow_1287_3288"
                  />
                  <feBlend
                    mode="normal"
                    in="SourceGraphic"
                    in2="effect1_dropShadow_1287_3288"
                    result="shape"
                  />
                </filter>
                <filter
                  id="filter3_d_1287_3288"
                  x="51"
                  y="1"
                  width="24"
                  height="24"
                  filterUnits="userSpaceOnUse"
                  colorInterpolationFilters="sRGB"
                >
                  <feFlood floodOpacity="0" result="BackgroundImageFix" />
                  <feColorMatrix
                    in="SourceAlpha"
                    type="matrix"
                    values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
                    result="hardAlpha"
                  />
                  <feOffset dy="4" />
                  <feGaussianBlur stdDeviation="2" />
                  <feComposite in2="hardAlpha" operator="out" />
                  <feColorMatrix
                    type="matrix"
                    values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"
                  />
                  <feBlend
                    mode="normal"
                    in2="BackgroundImageFix"
                    result="effect1_dropShadow_1287_3288"
                  />
                  <feBlend
                    mode="normal"
                    in="SourceGraphic"
                    in2="effect1_dropShadow_1287_3288"
                    result="shape"
                  />
                </filter>
              </defs>
            </svg>
          </div>
          <span>{program.price} 원</span>
          <div>
            <span>{program.open_time.substring(0, 5)}</span>
            <span> ~ </span>
            <span>{program.close_time.substring(0, 5)}</span>
          </div>
        </Content>
      </Link>
      <Button
        onClick={() => {
          onBtnClicked(program);
        }}
      >
        비교하기
      </Button>
    </Wrapper>
  );
}
